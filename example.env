# ------- MQTT presence (optional) -------
MQTT_HOST=192.168.x.xxx
MQTT_PORT=1883
MQTT_USER=USER
MQTT_PASS=PASSWORD
MQTT_PRESENCE_TOPIC=topic/topic/topic

# ------- Wakeword / VAD -------
REQUIRE_WAKEWORD=1
WAKE_ALWAYS_ON=1
WAKE_SENSITIVITY=medium         # low | medium | high
WAKEWORD=hey tars
WAKEWORD_TIMEOUT=45
WAKE_DEBUG_WAV=0
WAKE_WINDOW_SEC=12
POST_TTS_ACCEPT_SEC=8   # try 6â€“8 if you want more time to jump back in

VAD_AGGRESSIVENESS=2            # 0-3; 2 is a good balance
MAX_SILENCE_SECONDS=2         # endpoint faster

# ------- Whisper STT -------
WHISPER_SIZE=tiny.en            # try base.en if you want more accuracy
WHISPER_DEVICE=auto             # auto | cuda | cpu
WHISPER_COMPUTE=int8            # int8 is fast; use float16 on GPU for accuracy
ASR_LANGUAGE=en

# ------- Barge-in -------
ALLOW_BARGE_IN=0
BARGE_IN_FRAMES=10               # ~150ms of speech to cut TTS

# ------- LLM (Ollama) -------
OLLAMA_BASE_URL=http://127.0.0.1:xxxxx
# For max speed locally, 3B models feel great. Use your 8B if you prefer.
OLLAMA_MODEL=llama3.1:8b
LLM_MAX_TOKENS=100
LLM_TEMP=0.4
LLM_TOP_P=0.9
LLM_REPEAT_PENALTY=1.05
LLM_CTX=2048

SYSTEM_PROMPT=You are TARS. Reply concisely and only with the final answer. NEVER include chain-of-thought, analysis, or <think> blocks.

# ------- Audio / session -------
INPUT_DEVICE_INDEX=-1           # only used if PortAudio fallback is active
SESSION_IDLE_TIMEOUT=45
USE_ALSA_CAPTURE=1
ALSA_DEVICE=auto
VOICEBOT_PLAY_DEVICE=auto

# ------- Memory -------
ENABLE_MEMORY=1
MEMORY_FILE=memories.json

# ------- Operations -------
OFFLINE_MODE=1                  # 1=ignore MQTT + run locally
ENABLE_PRESENCE=0               # set 1 to arm by MQTT presence

# ------- Bluetooth / Speaker (optional) -------
AUTO_BT_CONNECT=0
BT_SPEAKER_MAC=41:42:79:08:28:2B
BT_CONNECT_RETRIES=5
BT_CONNECT_DELAY=2
BT_PROFILE=a2dp_sink

# ------- Piper TTS -------
PIPER_BINARY=piper
PIPER_VOICE=/home/voicebot/voices/TARS.onnx
PIPER_LENGTH_SCALE=0.9          # a bit faster than 1.0
PIPER_NOISE_SCALE=0.667
PIPER_NOISE_W=0.8
